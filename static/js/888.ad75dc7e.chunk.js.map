{"version":3,"file":"static/js/888.ad75dc7e.chunk.js","mappings":"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","sources":["components/Api/Api.js","components/Reviews/Reviews.js","components/Cast/Cast.js","components/MovieDetailsPage/MovieDetailsPage.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'd160e760f357a6e52726639f7245ecc9';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nconst getMovies = async () => {\n  const responce = await axios.get(\n    `${BASE_URL}trending/movie/day?api_key=${API_KEY}`,\n  );\n  // console.log(responce.data.results);\n\n  const trendingMovies = responce.data.results.map(({ id, title }) => {\n    return { id, title };\n  });\n\n  //   console.log(trendingMovies);\n\n  return trendingMovies;\n};\n\nconst getMoviesById = async id => {\n  const responceId = await axios.get(\n    `${BASE_URL}/movie/${id}?api_key=${API_KEY}`,\n  );\n  //   console.log(responceId.data);\n\n  return responceId.data;\n};\n\nconst getMoviesReviews = async id => {\n  const responceReviews = await axios.get(\n    `${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`,\n  );\n  // console.log(responceReviews.data.results);\n  const reviewsMovies = responceReviews.data.results.map(\n    ({ author, content, id }) => {\n      return { author, content, id };\n    },\n  );\n  // console.log(reviewsMovies);\n  return reviewsMovies;\n};\n\nconst getMoviesCasts = async id => {\n  const responceCasts = await axios.get(\n    `${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`,\n  );\n\n  return responceCasts.data;\n};\n\nconst getMoviesQuery = async query => {\n  const responceCasts = await axios.get(\n    `${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${query}`,\n  );\n  // console.log(responceCasts.data.results);\n  return responceCasts.data.results;\n};\n\nexport {\n  getMovies,\n  getMoviesById,\n  getMoviesReviews,\n  getMoviesCasts,\n  getMoviesQuery,\n};\n","import PropTypes from 'prop-types';\n\nconst Reviews = ({ moviesIdReview }) => {\n  return (\n    <>\n      {moviesIdReview.length === 0 ? (\n        <p>No reviews</p>\n      ) : (\n        moviesIdReview &&\n        moviesIdReview.map(review => (\n          <div key={review.id}>\n            <h3>{review.author}</h3>\n            <p>{review.content}</p>\n          </div>\n        ))\n      )}\n    </>\n  );\n};\n\nReviews.propTypes = {\n  moviesIdReview: PropTypes.array.isRequired,\n};\n\nexport default Reviews;\n","\nimport PropTypes from 'prop-types';\n\nconst Cast = ({ moviesIdCast }) => {\n  return (\n    <>\n      <h3>Cast</h3>\n      {moviesIdCast &&\n        moviesIdCast.cast.map(cast => (\n          <div key={cast.id}>\n            {cast.profile_path === null ? (\n              <img\n                src={`https://demofree.sirv.com/nope-not-here.jpg?w=150`}\n                alt={cast.name}\n                width=\"150\"\n              />\n            ) : (\n              <img\n                src={`https://image.tmdb.org/t/p/w500${cast.profile_path}`}\n                alt={cast.name}\n                width=\"150\"\n              />\n            )}\n            {/* <img\n              src={`https://image.tmdb.org/t/p/w500${cast.profile_path}`}\n              alt={cast.name}\n              width=\"150\"\n            /> */}\n            <p>{cast.name}</p>\n            <p>Character: {cast.character}</p>\n          </div>\n        ))}\n    </>\n  );\n};\n\nCast.propTypes = {\n  moviesIdCast: PropTypes.object.isRequired,\n};\n\nexport default Cast;\n","import {\n  useParams,\n  Route,\n  Link,\n  useRouteMatch,\n  useHistory,\n  useLocation,\n} from 'react-router-dom';\nimport { getMoviesById, getMoviesReviews, getMoviesCasts } from '../Api/Api';\nimport { useState, useEffect, useRef } from 'react';\nimport Reviews from '../Reviews/Reviews';\nimport Cast from '../Cast/Cast';\n\nconst MovieDetailsPage = () => {\n  const match = useRouteMatch();\n  \n\n  const [moviesIdInfo, setMoviesIdInfo] = useState(null);\n  const [moviesIdReview, setMoviesIdReview] = useState(null);\n  const [moviesIdCast, setMoviesIdCast] = useState(null);\n\n  const { moviesId } = useParams();\n  \n\n  const routerState = useRef(null);\n \n\n  const history = useHistory();\n \n  const location = useLocation();\n  \n\n  useEffect(() => {\n    if (!routerState.current) {\n      routerState.current = location.state;\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // setTimeout(() => console.log('router.cur', routerState.current), 40);\n\n  useEffect(() => {\n    getMoviesById(moviesId).then(setMoviesIdInfo);\n    getMoviesReviews(moviesId).then(setMoviesIdReview);\n    getMoviesCasts(moviesId).then(setMoviesIdCast);\n  }, [moviesId]);\n\n  return (\n    <>\n      <button\n        onClick={() => {\n          const paramsPath = routerState.current.params.pathname;\n          const paramsSearch = routerState.current.params.search;\n\n          // console.log(`${paramsPath}${paramsSearch}`);\n          history.push(`${paramsPath}${paramsSearch}`);\n        }}\n      >\n        Назад\n      </button>\n\n      <h2>MovieDetailsPage</h2>\n      {moviesIdInfo && (\n        <>\n          <img\n            src={`https://image.tmdb.org/t/p/w500${moviesIdInfo.poster_path}`}\n            alt={moviesIdInfo.title}\n            width=\"150\"\n          />\n          <h2>\n            {moviesIdInfo.title}({moviesIdInfo.release_date.slice(0, 4)})\n          </h2>\n          <h3>Overview:</h3>\n          <p>{moviesIdInfo.overview}</p>\n          <h3>Genres</h3>\n          <p>{moviesIdInfo.genres.map(genre => genre.name + ' ')}</p>\n          <Link to={`${match.url}/cast`}>\n            <li>Cast</li>\n          </Link>\n          <Link to={`${match.url}/reviews`}>\n            <li>Reviews</li>\n          </Link>\n          <Route path={`${match.url}/cast`}>\n            {moviesIdCast && <Cast moviesIdCast={moviesIdCast} />}\n          </Route>\n          <Route path={`${match.url}/reviews`}>\n            {moviesIdReview && <Reviews moviesIdReview={moviesIdReview} />}\n          </Route>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n"],"names":["API_KEY","BASE_URL","getMovies","axios","responce","trendingMovies","data","results","map","id","title","getMoviesById","responceId","getMoviesReviews","responceReviews","reviewsMovies","author","content","getMoviesCasts","responceCasts","getMoviesQuery","query","moviesIdReview","length","review","moviesIdCast","cast","profile_path","src","alt","name","width","character","match","useRouteMatch","useState","moviesIdInfo","setMoviesIdInfo","setMoviesIdReview","setMoviesIdCast","moviesId","useParams","routerState","useRef","history","useHistory","location","useLocation","useEffect","current","state","then","onClick","paramsPath","params","pathname","paramsSearch","search","push","poster_path","release_date","slice","overview","genres","genre","to","url","path"],"sourceRoot":""}